"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/workflows/route";
exports.ids = ["app/api/workflows/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "async_hooks":
/*!******************************!*\
  !*** external "async_hooks" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("async_hooks");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fworkflows%2Froute&page=%2Fapi%2Fworkflows%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fworkflows%2Froute.ts&appDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5CCreatye%20v2%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5CCreatye%20v2%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fworkflows%2Froute&page=%2Fapi%2Fworkflows%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fworkflows%2Froute.ts&appDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5CCreatye%20v2%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5CCreatye%20v2%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_jeang_OneDrive_Desktop_Creatye_v2_apps_web_src_app_api_workflows_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/workflows/route.ts */ \"(rsc)/./src/app/api/workflows/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/workflows/route\",\n        pathname: \"/api/workflows\",\n        filename: \"route\",\n        bundlePath: \"app/api/workflows/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\jeang\\\\OneDrive\\\\Desktop\\\\Creatye v2\\\\apps\\\\web\\\\src\\\\app\\\\api\\\\workflows\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_jeang_OneDrive_Desktop_Creatye_v2_apps_web_src_app_api_workflows_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/workflows/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMS4wX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtYXBwLWxvYWRlci5qcz9uYW1lPWFwcCUyRmFwaSUyRndvcmtmbG93cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGd29ya2Zsb3dzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGd29ya2Zsb3dzJTJGcm91dGUudHMmYXBwRGlyPUMlM0ElNUNVc2VycyU1Q2plYW5nJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDQ3JlYXR5ZSUyMHYyJTVDYXBwcyU1Q3dlYiU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDamVhbmclNUNPbmVEcml2ZSU1Q0Rlc2t0b3AlNUNDcmVhdHllJTIwdjIlNUNhcHBzJTVDd2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzhDO0FBQzNIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLz80MjViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXGplYW5nXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcQ3JlYXR5ZSB2MlxcXFxhcHBzXFxcXHdlYlxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFx3b3JrZmxvd3NcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3dvcmtmbG93cy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3dvcmtmbG93c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvd29ya2Zsb3dzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcamVhbmdcXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxDcmVhdHllIHYyXFxcXGFwcHNcXFxcd2ViXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHdvcmtmbG93c1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS93b3JrZmxvd3Mvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fworkflows%2Froute&page=%2Fapi%2Fworkflows%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fworkflows%2Froute.ts&appDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5CCreatye%20v2%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5CCreatye%20v2%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/workflows/route.ts":
/*!****************************************!*\
  !*** ./src/app/api/workflows/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase/server */ \"(rsc)/./src/lib/supabase/server.ts\");\n/* harmony import */ var _lib_workspace__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/workspace */ \"(rsc)/./src/lib/workspace.ts\");\n\n\n\n\nasync function POST(req) {\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n        error: \"Unauthorized\"\n    }, {\n        status: 401\n    });\n    const body = await req.json();\n    const { title, description, channels } = body; // channels: ['dm', 'feed']\n    const workspace = await (0,_lib_workspace__WEBPACK_IMPORTED_MODULE_3__.getPrimaryWorkspace)(user.id, user.email || \"\");\n    const workflow = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.workflow.create({\n        data: {\n            workspaceId: workspace.id,\n            title,\n            description,\n            channels,\n            isActive: true,\n            status: \"DRAFT\"\n        }\n    });\n    // Create Triggers and Actions default\n    // Map channels to triggers types\n    // 'dm' -> DM_RECEIVED\n    // 'story' -> STORY_REPLY\n    // 'feed' -> FEED_COMMENT\n    const triggerMap = {\n        \"dm\": \"DM_RECEIVED\",\n        \"story\": \"STORY_REPLY\",\n        \"feed\": \"FEED_COMMENT\"\n    };\n    const actionMap = {\n        \"dm\": \"SEND_DM\",\n        \"story\": \"SEND_DM\",\n        \"feed\": \"REPLY_COMMENT\"\n    };\n    // Create Triggers\n    const triggersToCreate = [];\n    const actionsToCreate = [];\n    for (const ch of channels){\n        const type = triggerMap[ch];\n        if (type) {\n            triggersToCreate.push({\n                workflowId: workflow.id,\n                type,\n                configJson: {\n                    matchMode: \"contains\",\n                    keywords: []\n                }\n            });\n        }\n    // We usually have 1 Action for the workflow overall? Or per channel?\n    // Prompt says \"Action message text (reply template)\". Usually 1 common reply or specific?\n    // Let's create one Action per channel-type logic OR just one generic action if possible.\n    // But FEED uses REPLY_COMMENT, DM uses SEND_DM.\n    // So we might need separate actions or a single action that handles the context.\n    // For simplicity: Create one action of type matching the FIRST channel, \n    // OR better: The editor allows configuring \"Reply\".\n    // Let's create one Action. The Processor will pick the first action.\n    // If we have mixed channels (Feed + DM), we need an action that works for both?\n    // Usually you reply with text.\n    // Let's create one default action \"SEND_REPLY\" (generic code logic handled in processor).\n    // My schema has 'SEND_DM', 'REPLY_COMMENT'.\n    // I'll create one Action per supported output type if needed, or just 1 action and processor casts it.\n    // I will create 1 Action row with type 'SEND_DM' (default) and let processor adapt if it's a comment.\n    }\n    if (channels.length > 0) {\n        actionsToCreate.push({\n            workflowId: workflow.id,\n            type: \"SEND_DM\",\n            configJson: {\n                replyMessage: \"Ol\\xe1! Como posso ajudar?\"\n            }\n        });\n    }\n    if (triggersToCreate.length > 0) {\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.workflowTrigger.createMany({\n            data: triggersToCreate\n        });\n    }\n    if (actionsToCreate.length > 0) {\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.workflowAction.createMany({\n            data: actionsToCreate\n        });\n    }\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(workflow);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS93b3JrZmxvd3Mvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0Q7QUFDbEI7QUFDZTtBQUNDO0FBRS9DLGVBQWVJLEtBQUtDLEdBQWdCO0lBQ3ZDLE1BQU1DLFdBQVdKLGtFQUFZQTtJQUM3QixNQUFNLEVBQUVLLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEVBQUUsR0FBRyxNQUFNRixTQUFTRyxJQUFJLENBQUNDLE9BQU87SUFDdEQsSUFBSSxDQUFDRixNQUFNLE9BQU9SLGtGQUFZQSxDQUFDVyxJQUFJLENBQUM7UUFBRUMsT0FBTztJQUFlLEdBQUc7UUFBRUMsUUFBUTtJQUFJO0lBRTdFLE1BQU1DLE9BQU8sTUFBTVQsSUFBSU0sSUFBSTtJQUMzQixNQUFNLEVBQUVJLEtBQUssRUFBRUMsV0FBVyxFQUFFQyxRQUFRLEVBQUUsR0FBR0gsTUFBTSwyQkFBMkI7SUFFMUUsTUFBTUksWUFBWSxNQUFNZixtRUFBbUJBLENBQUNLLEtBQUtXLEVBQUUsRUFBRVgsS0FBS1ksS0FBSyxJQUFJO0lBRW5FLE1BQU1DLFdBQVcsTUFBTXBCLCtDQUFNQSxDQUFDb0IsUUFBUSxDQUFDQyxNQUFNLENBQUM7UUFDMUNmLE1BQU07WUFDRmdCLGFBQWFMLFVBQVVDLEVBQUU7WUFDekJKO1lBQ0FDO1lBQ0FDO1lBQ0FPLFVBQVU7WUFDVlgsUUFBUTtRQUNaO0lBQ0o7SUFFQSxzQ0FBc0M7SUFDdEMsaUNBQWlDO0lBQ2pDLHNCQUFzQjtJQUN0Qix5QkFBeUI7SUFDekIseUJBQXlCO0lBRXpCLE1BQU1ZLGFBQXFDO1FBQ3ZDLE1BQU07UUFDTixTQUFTO1FBQ1QsUUFBUTtJQUNaO0lBRUEsTUFBTUMsWUFBb0M7UUFDdEMsTUFBTTtRQUNOLFNBQVM7UUFDVCxRQUFRO0lBQ1o7SUFFQSxrQkFBa0I7SUFDbEIsTUFBTUMsbUJBQW1CLEVBQUU7SUFDM0IsTUFBTUMsa0JBQWtCLEVBQUU7SUFFMUIsS0FBSyxNQUFNQyxNQUFNWixTQUFVO1FBQ3ZCLE1BQU1hLE9BQU9MLFVBQVUsQ0FBQ0ksR0FBRztRQUMzQixJQUFJQyxNQUFNO1lBQ05ILGlCQUFpQkksSUFBSSxDQUFDO2dCQUNsQkMsWUFBWVgsU0FBU0YsRUFBRTtnQkFDdkJXO2dCQUNBRyxZQUFZO29CQUNSQyxXQUFXO29CQUNYQyxVQUFVLEVBQUU7Z0JBQ2hCO1lBQ0o7UUFDSjtJQUVBLHFFQUFxRTtJQUNyRSwwRkFBMEY7SUFDMUYseUZBQXlGO0lBQ3pGLGdEQUFnRDtJQUNoRCxpRkFBaUY7SUFDakYseUVBQXlFO0lBQ3pFLG9EQUFvRDtJQUNwRCxxRUFBcUU7SUFFckUsZ0ZBQWdGO0lBQ2hGLCtCQUErQjtJQUMvQiwwRkFBMEY7SUFDMUYsNENBQTRDO0lBQzVDLHVHQUF1RztJQUN2RyxzR0FBc0c7SUFDMUc7SUFFQSxJQUFJbEIsU0FBU21CLE1BQU0sR0FBRyxHQUFHO1FBQ3JCUixnQkFBZ0JHLElBQUksQ0FBQztZQUNqQkMsWUFBWVgsU0FBU0YsRUFBRTtZQUN2QlcsTUFBTTtZQUNORyxZQUFZO2dCQUNSSSxjQUFjO1lBQ2xCO1FBQ0o7SUFDSjtJQUVBLElBQUlWLGlCQUFpQlMsTUFBTSxHQUFHLEdBQUc7UUFDN0IsTUFBTW5DLCtDQUFNQSxDQUFDcUMsZUFBZSxDQUFDQyxVQUFVLENBQUM7WUFBRWhDLE1BQU1vQjtRQUFpQjtJQUNyRTtJQUNBLElBQUlDLGdCQUFnQlEsTUFBTSxHQUFHLEdBQUc7UUFDNUIsTUFBTW5DLCtDQUFNQSxDQUFDdUMsY0FBYyxDQUFDRCxVQUFVLENBQUM7WUFBRWhDLE1BQU1xQjtRQUFnQjtJQUNuRTtJQUVBLE9BQU81QixrRkFBWUEsQ0FBQ1csSUFBSSxDQUFDVTtBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL3NyYy9hcHAvYXBpL3dvcmtmbG93cy9yb3V0ZS50cz85ZjcxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL3ByaXNtYVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XHJcbmltcG9ydCB7IGdldFByaW1hcnlXb3Jrc3BhY2UgfSBmcm9tIFwiQC9saWIvd29ya3NwYWNlXCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IE5leHRSZXF1ZXN0KSB7XHJcbiAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpO1xyXG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcbiAgICBpZiAoIXVzZXIpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0sIHsgc3RhdHVzOiA0MDEgfSk7XHJcblxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XHJcbiAgICBjb25zdCB7IHRpdGxlLCBkZXNjcmlwdGlvbiwgY2hhbm5lbHMgfSA9IGJvZHk7IC8vIGNoYW5uZWxzOiBbJ2RtJywgJ2ZlZWQnXVxyXG5cclxuICAgIGNvbnN0IHdvcmtzcGFjZSA9IGF3YWl0IGdldFByaW1hcnlXb3Jrc3BhY2UodXNlci5pZCwgdXNlci5lbWFpbCB8fCAnJyk7XHJcblxyXG4gICAgY29uc3Qgd29ya2Zsb3cgPSBhd2FpdCBwcmlzbWEud29ya2Zsb3cuY3JlYXRlKHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2UuaWQsXHJcbiAgICAgICAgICAgIHRpdGxlLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgY2hhbm5lbHMsIC8vIHN0cmluZ1tdIHN0b3JlZCBhcyBKc29uXHJcbiAgICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLCAvLyBBdXRvLWFjdGl2ZSBidXQgZHJhZnRcclxuICAgICAgICAgICAgc3RhdHVzOiAnRFJBRlQnXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIFRyaWdnZXJzIGFuZCBBY3Rpb25zIGRlZmF1bHRcclxuICAgIC8vIE1hcCBjaGFubmVscyB0byB0cmlnZ2VycyB0eXBlc1xyXG4gICAgLy8gJ2RtJyAtPiBETV9SRUNFSVZFRFxyXG4gICAgLy8gJ3N0b3J5JyAtPiBTVE9SWV9SRVBMWVxyXG4gICAgLy8gJ2ZlZWQnIC0+IEZFRURfQ09NTUVOVFxyXG5cclxuICAgIGNvbnN0IHRyaWdnZXJNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICAgICAgJ2RtJzogJ0RNX1JFQ0VJVkVEJyxcclxuICAgICAgICAnc3RvcnknOiAnU1RPUllfUkVQTFknLFxyXG4gICAgICAgICdmZWVkJzogJ0ZFRURfQ09NTUVOVCdcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgYWN0aW9uTWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICAgICdkbSc6ICdTRU5EX0RNJyxcclxuICAgICAgICAnc3RvcnknOiAnU0VORF9ETScsXHJcbiAgICAgICAgJ2ZlZWQnOiAnUkVQTFlfQ09NTUVOVCdcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ3JlYXRlIFRyaWdnZXJzXHJcbiAgICBjb25zdCB0cmlnZ2Vyc1RvQ3JlYXRlID0gW107XHJcbiAgICBjb25zdCBhY3Rpb25zVG9DcmVhdGUgPSBbXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGNoIG9mIGNoYW5uZWxzKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IHRyaWdnZXJNYXBbY2hdO1xyXG4gICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHRyaWdnZXJzVG9DcmVhdGUucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB3b3JrZmxvd0lkOiB3b3JrZmxvdy5pZCxcclxuICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICBjb25maWdKc29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hNb2RlOiAnY29udGFpbnMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleXdvcmRzOiBbXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdlIHVzdWFsbHkgaGF2ZSAxIEFjdGlvbiBmb3IgdGhlIHdvcmtmbG93IG92ZXJhbGw/IE9yIHBlciBjaGFubmVsP1xyXG4gICAgICAgIC8vIFByb21wdCBzYXlzIFwiQWN0aW9uIG1lc3NhZ2UgdGV4dCAocmVwbHkgdGVtcGxhdGUpXCIuIFVzdWFsbHkgMSBjb21tb24gcmVwbHkgb3Igc3BlY2lmaWM/XHJcbiAgICAgICAgLy8gTGV0J3MgY3JlYXRlIG9uZSBBY3Rpb24gcGVyIGNoYW5uZWwtdHlwZSBsb2dpYyBPUiBqdXN0IG9uZSBnZW5lcmljIGFjdGlvbiBpZiBwb3NzaWJsZS5cclxuICAgICAgICAvLyBCdXQgRkVFRCB1c2VzIFJFUExZX0NPTU1FTlQsIERNIHVzZXMgU0VORF9ETS5cclxuICAgICAgICAvLyBTbyB3ZSBtaWdodCBuZWVkIHNlcGFyYXRlIGFjdGlvbnMgb3IgYSBzaW5nbGUgYWN0aW9uIHRoYXQgaGFuZGxlcyB0aGUgY29udGV4dC5cclxuICAgICAgICAvLyBGb3Igc2ltcGxpY2l0eTogQ3JlYXRlIG9uZSBhY3Rpb24gb2YgdHlwZSBtYXRjaGluZyB0aGUgRklSU1QgY2hhbm5lbCwgXHJcbiAgICAgICAgLy8gT1IgYmV0dGVyOiBUaGUgZWRpdG9yIGFsbG93cyBjb25maWd1cmluZyBcIlJlcGx5XCIuXHJcbiAgICAgICAgLy8gTGV0J3MgY3JlYXRlIG9uZSBBY3Rpb24uIFRoZSBQcm9jZXNzb3Igd2lsbCBwaWNrIHRoZSBmaXJzdCBhY3Rpb24uXHJcblxyXG4gICAgICAgIC8vIElmIHdlIGhhdmUgbWl4ZWQgY2hhbm5lbHMgKEZlZWQgKyBETSksIHdlIG5lZWQgYW4gYWN0aW9uIHRoYXQgd29ya3MgZm9yIGJvdGg/XHJcbiAgICAgICAgLy8gVXN1YWxseSB5b3UgcmVwbHkgd2l0aCB0ZXh0LlxyXG4gICAgICAgIC8vIExldCdzIGNyZWF0ZSBvbmUgZGVmYXVsdCBhY3Rpb24gXCJTRU5EX1JFUExZXCIgKGdlbmVyaWMgY29kZSBsb2dpYyBoYW5kbGVkIGluIHByb2Nlc3NvcikuXHJcbiAgICAgICAgLy8gTXkgc2NoZW1hIGhhcyAnU0VORF9ETScsICdSRVBMWV9DT01NRU5UJy5cclxuICAgICAgICAvLyBJJ2xsIGNyZWF0ZSBvbmUgQWN0aW9uIHBlciBzdXBwb3J0ZWQgb3V0cHV0IHR5cGUgaWYgbmVlZGVkLCBvciBqdXN0IDEgYWN0aW9uIGFuZCBwcm9jZXNzb3IgY2FzdHMgaXQuXHJcbiAgICAgICAgLy8gSSB3aWxsIGNyZWF0ZSAxIEFjdGlvbiByb3cgd2l0aCB0eXBlICdTRU5EX0RNJyAoZGVmYXVsdCkgYW5kIGxldCBwcm9jZXNzb3IgYWRhcHQgaWYgaXQncyBhIGNvbW1lbnQuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5uZWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBhY3Rpb25zVG9DcmVhdGUucHVzaCh7XHJcbiAgICAgICAgICAgIHdvcmtmbG93SWQ6IHdvcmtmbG93LmlkLFxyXG4gICAgICAgICAgICB0eXBlOiAnU0VORF9ETScsIC8vIERlZmF1bHQgcGxhY2Vob2xkZXJcclxuICAgICAgICAgICAgY29uZmlnSnNvbjoge1xyXG4gICAgICAgICAgICAgICAgcmVwbHlNZXNzYWdlOiBcIk9sw6EhIENvbW8gcG9zc28gYWp1ZGFyP1wiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHJpZ2dlcnNUb0NyZWF0ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgYXdhaXQgcHJpc21hLndvcmtmbG93VHJpZ2dlci5jcmVhdGVNYW55KHsgZGF0YTogdHJpZ2dlcnNUb0NyZWF0ZSB9KTtcclxuICAgIH1cclxuICAgIGlmIChhY3Rpb25zVG9DcmVhdGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGF3YWl0IHByaXNtYS53b3JrZmxvd0FjdGlvbi5jcmVhdGVNYW55KHsgZGF0YTogYWN0aW9uc1RvQ3JlYXRlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih3b3JrZmxvdyk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInByaXNtYSIsImNyZWF0ZUNsaWVudCIsImdldFByaW1hcnlXb3Jrc3BhY2UiLCJQT1NUIiwicmVxIiwic3VwYWJhc2UiLCJkYXRhIiwidXNlciIsImF1dGgiLCJnZXRVc2VyIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiYm9keSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJjaGFubmVscyIsIndvcmtzcGFjZSIsImlkIiwiZW1haWwiLCJ3b3JrZmxvdyIsImNyZWF0ZSIsIndvcmtzcGFjZUlkIiwiaXNBY3RpdmUiLCJ0cmlnZ2VyTWFwIiwiYWN0aW9uTWFwIiwidHJpZ2dlcnNUb0NyZWF0ZSIsImFjdGlvbnNUb0NyZWF0ZSIsImNoIiwidHlwZSIsInB1c2giLCJ3b3JrZmxvd0lkIiwiY29uZmlnSnNvbiIsIm1hdGNoTW9kZSIsImtleXdvcmRzIiwibGVuZ3RoIiwicmVwbHlNZXNzYWdlIiwid29ya2Zsb3dUcmlnZ2VyIiwiY3JlYXRlTWFueSIsIndvcmtmbG93QWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/workflows/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _repo_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @repo/db */ \"(rsc)/../../packages/db/src/index.ts\");\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma || new _repo_db__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QztBQUV4QyxNQUFNQyxrQkFBa0JDO0FBRWpCLE1BQU1DLFNBQVNGLGdCQUFnQkUsTUFBTSxJQUFJLElBQUlILGtEQUFZQSxHQUFHO0FBRW5FLElBQUlJLElBQXFDLEVBQUVILGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL3NyYy9saWIvcHJpc21hLnRzPzAxZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkByZXBvL2RiXCI7XHJcblxyXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMgeyBwcmlzbWE6IFByaXNtYUNsaWVudCB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgfHwgbmV3IFByaXNtYUNsaWVudCgpO1xyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYTtcclxuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJwcmlzbWEiLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase/server.ts":
/*!************************************!*\
  !*** ./src/lib/supabase/server.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/../../node_modules/.pnpm/@supabase+ssr@0.1.0_@supabase+supabase-js@2.91.0/node_modules/@supabase/ssr/dist/index.mjs\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/api/headers.js\");\n\n\nfunction createClient() {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"https://sloqbvhshesxngefuoxy.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNsb3FidmhzaGVzeG5nZWZ1b3h5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwNjA3NzksImV4cCI6MjA4NDYzNjc3OX0.qzOLhHR3NOXXkcFjJAuPZvdj8JdBC41Ecf3YaySLQq0\", {\n        cookies: {\n            get (name) {\n                return cookieStore.get(name)?.value;\n            },\n            set (name, value, options) {\n                try {\n                    cookieStore.set({\n                        name,\n                        value,\n                        ...options\n                    });\n                } catch (error) {\n                // The `set` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            },\n            remove (name, options) {\n                try {\n                    cookieStore.set({\n                        name,\n                        value: \"\",\n                        ...options\n                    });\n                } catch (error) {\n                // The `delete` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            }\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlL3NlcnZlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0U7QUFDaEM7QUFFL0IsU0FBU0U7SUFDWixNQUFNQyxjQUFjRixxREFBT0E7SUFFM0IsT0FBT0QsaUVBQWtCQSxDQUNyQkksMENBQW9DLEVBQ3BDQSxrTkFBeUMsRUFDekM7UUFDSUgsU0FBUztZQUNMTyxLQUFJQyxJQUFZO2dCQUNaLE9BQU9OLFlBQVlLLEdBQUcsQ0FBQ0MsT0FBT0M7WUFDbEM7WUFDQUMsS0FBSUYsSUFBWSxFQUFFQyxLQUFhLEVBQUVFLE9BQXNCO2dCQUNuRCxJQUFJO29CQUNBVCxZQUFZUSxHQUFHLENBQUM7d0JBQUVGO3dCQUFNQzt3QkFBTyxHQUFHRSxPQUFPO29CQUFDO2dCQUM5QyxFQUFFLE9BQU9DLE9BQU87Z0JBQ1osdURBQXVEO2dCQUN2RCx3REFBd0Q7Z0JBQ3hELGlCQUFpQjtnQkFDckI7WUFDSjtZQUNBQyxRQUFPTCxJQUFZLEVBQUVHLE9BQXNCO2dCQUN2QyxJQUFJO29CQUNBVCxZQUFZUSxHQUFHLENBQUM7d0JBQUVGO3dCQUFNQyxPQUFPO3dCQUFJLEdBQUdFLE9BQU87b0JBQUM7Z0JBQ2xELEVBQUUsT0FBT0MsT0FBTztnQkFDWiwwREFBMEQ7Z0JBQzFELHdEQUF3RDtnQkFDeEQsaUJBQWlCO2dCQUNyQjtZQUNKO1FBQ0o7SUFDSjtBQUVSIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vc3JjL2xpYi9zdXBhYmFzZS9zZXJ2ZXIudHM/MmU4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQsIHR5cGUgQ29va2llT3B0aW9ucyB9IGZyb20gJ0BzdXBhYmFzZS9zc3InXHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2xpZW50KCkge1xyXG4gICAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKClcclxuXHJcbiAgICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxyXG4gICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29va2llczoge1xyXG4gICAgICAgICAgICAgICAgZ2V0KG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb29raWVTdG9yZS5nZXQobmFtZSk/LnZhbHVlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgb3B0aW9uczogQ29va2llT3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tpZVN0b3JlLnNldCh7IG5hbWUsIHZhbHVlLCAuLi5vcHRpb25zIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGBzZXRgIG1ldGhvZCB3YXMgY2FsbGVkIGZyb20gYSBTZXJ2ZXIgQ29tcG9uZW50LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBiZSBpZ25vcmVkIGlmIHlvdSBoYXZlIG1pZGRsZXdhcmUgcmVmcmVzaGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2VyIHNlc3Npb25zLlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByZW1vdmUobmFtZTogc3RyaW5nLCBvcHRpb25zOiBDb29raWVPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29va2llU3RvcmUuc2V0KHsgbmFtZSwgdmFsdWU6ICcnLCAuLi5vcHRpb25zIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGBkZWxldGVgIG1ldGhvZCB3YXMgY2FsbGVkIGZyb20gYSBTZXJ2ZXIgQ29tcG9uZW50LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBiZSBpZ25vcmVkIGlmIHlvdSBoYXZlIG1pZGRsZXdhcmUgcmVmcmVzaGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2VyIHNlc3Npb25zLlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfVxyXG4gICAgKVxyXG59XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVTZXJ2ZXJDbGllbnQiLCJjb29raWVzIiwiY3JlYXRlQ2xpZW50IiwiY29va2llU3RvcmUiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJnZXQiLCJuYW1lIiwidmFsdWUiLCJzZXQiLCJvcHRpb25zIiwiZXJyb3IiLCJyZW1vdmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase/server.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/workspace.ts":
/*!******************************!*\
  !*** ./src/lib/workspace.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPrimaryWorkspace: () => (/* binding */ getPrimaryWorkspace)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n\nasync function getPrimaryWorkspace(userId, email) {\n    // Find first workspace user is a member of\n    const membership = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.workspaceMember.findFirst({\n        where: {\n            userId\n        },\n        include: {\n            workspace: true\n        }\n    });\n    if (membership) {\n        return membership.workspace;\n    }\n    // Check if user exists, if not create\n    let user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n        where: {\n            id: userId\n        }\n    });\n    if (!user) {\n        if (email) {\n            user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.create({\n                data: {\n                    id: userId,\n                    email: email\n                }\n            });\n        } else {\n            throw new Error(\"User not found and no email provided\");\n        }\n    }\n    // Create default workspace\n    const workspace = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.workspace.create({\n        data: {\n            name: \"Meu Workspace\",\n            ownerId: userId,\n            members: {\n                create: {\n                    userId,\n                    role: \"OWNER\"\n                }\n            },\n            // Create default folder\n            workflowFolders: {\n                create: {\n                    name: \"Geral\"\n                }\n            }\n        }\n    });\n    return workspace;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3dvcmtzcGFjZS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzQztBQUUvQixlQUFlQyxvQkFBb0JDLE1BQWMsRUFBRUMsS0FBYTtJQUNuRSwyQ0FBMkM7SUFDM0MsTUFBTUMsYUFBYSxNQUFNSiwrQ0FBTUEsQ0FBQ0ssZUFBZSxDQUFDQyxTQUFTLENBQUM7UUFDdERDLE9BQU87WUFBRUw7UUFBTztRQUNoQk0sU0FBUztZQUFFQyxXQUFXO1FBQUs7SUFDL0I7SUFFQSxJQUFJTCxZQUFZO1FBQ1osT0FBT0EsV0FBV0ssU0FBUztJQUMvQjtJQUVBLHNDQUFzQztJQUN0QyxJQUFJQyxPQUFPLE1BQU1WLCtDQUFNQSxDQUFDVSxJQUFJLENBQUNDLFVBQVUsQ0FBQztRQUFFSixPQUFPO1lBQUVLLElBQUlWO1FBQU87SUFBRTtJQUNoRSxJQUFJLENBQUNRLE1BQU07UUFDUCxJQUFJUCxPQUFPO1lBQ1BPLE9BQU8sTUFBTVYsK0NBQU1BLENBQUNVLElBQUksQ0FBQ0csTUFBTSxDQUFDO2dCQUM1QkMsTUFBTTtvQkFDRkYsSUFBSVY7b0JBQ0pDLE9BQU9BO2dCQUNYO1lBQ0o7UUFDSixPQUFPO1lBQ0gsTUFBTSxJQUFJWSxNQUFNO1FBQ3BCO0lBQ0o7SUFFQSwyQkFBMkI7SUFDM0IsTUFBTU4sWUFBWSxNQUFNVCwrQ0FBTUEsQ0FBQ1MsU0FBUyxDQUFDSSxNQUFNLENBQUM7UUFDNUNDLE1BQU07WUFDRkUsTUFBTTtZQUNOQyxTQUFTZjtZQUNUZ0IsU0FBUztnQkFDTEwsUUFBUTtvQkFDSlg7b0JBQ0FpQixNQUFNO2dCQUNWO1lBQ0o7WUFDQSx3QkFBd0I7WUFDeEJDLGlCQUFpQjtnQkFDYlAsUUFBUTtvQkFDSkcsTUFBTTtnQkFDVjtZQUNKO1FBQ0o7SUFDSjtJQUVBLE9BQU9QO0FBQ1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9zcmMvbGliL3dvcmtzcGFjZS50cz8yMDIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCJAL2xpYi9wcmlzbWFcIjtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcmltYXJ5V29ya3NwYWNlKHVzZXJJZDogc3RyaW5nLCBlbWFpbDogc3RyaW5nKSB7XHJcbiAgICAvLyBGaW5kIGZpcnN0IHdvcmtzcGFjZSB1c2VyIGlzIGEgbWVtYmVyIG9mXHJcbiAgICBjb25zdCBtZW1iZXJzaGlwID0gYXdhaXQgcHJpc21hLndvcmtzcGFjZU1lbWJlci5maW5kRmlyc3Qoe1xyXG4gICAgICAgIHdoZXJlOiB7IHVzZXJJZCB9LFxyXG4gICAgICAgIGluY2x1ZGU6IHsgd29ya3NwYWNlOiB0cnVlIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChtZW1iZXJzaGlwKSB7XHJcbiAgICAgICAgcmV0dXJuIG1lbWJlcnNoaXAud29ya3NwYWNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgZXhpc3RzLCBpZiBub3QgY3JlYXRlXHJcbiAgICBsZXQgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBpZDogdXNlcklkIH0gfSk7XHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICBpZiAoZW1haWwpIHtcclxuICAgICAgICAgICAgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHVzZXJJZCxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlciBub3QgZm91bmQgYW5kIG5vIGVtYWlsIHByb3ZpZGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgZGVmYXVsdCB3b3Jrc3BhY2VcclxuICAgIGNvbnN0IHdvcmtzcGFjZSA9IGF3YWl0IHByaXNtYS53b3Jrc3BhY2UuY3JlYXRlKHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIG5hbWU6IFwiTWV1IFdvcmtzcGFjZVwiLFxyXG4gICAgICAgICAgICBvd25lcklkOiB1c2VySWQsXHJcbiAgICAgICAgICAgIG1lbWJlcnM6IHtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZCxcclxuICAgICAgICAgICAgICAgICAgICByb2xlOiAnT1dORVInXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IGZvbGRlclxyXG4gICAgICAgICAgICB3b3JrZmxvd0ZvbGRlcnM6IHtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdHZXJhbCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB3b3Jrc3BhY2U7XHJcbn1cclxuIl0sIm5hbWVzIjpbInByaXNtYSIsImdldFByaW1hcnlXb3Jrc3BhY2UiLCJ1c2VySWQiLCJlbWFpbCIsIm1lbWJlcnNoaXAiLCJ3b3Jrc3BhY2VNZW1iZXIiLCJmaW5kRmlyc3QiLCJ3aGVyZSIsImluY2x1ZGUiLCJ3b3Jrc3BhY2UiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsImlkIiwiY3JlYXRlIiwiZGF0YSIsIkVycm9yIiwibmFtZSIsIm93bmVySWQiLCJtZW1iZXJzIiwicm9sZSIsIndvcmtmbG93Rm9sZGVycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/workspace.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/db/src/index.ts":
/*!**************************************!*\
  !*** ../../packages/db/src/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"(rsc)/../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/default.js\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _prisma_client__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _prisma_client__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZGIvc3JjL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uLi8uLi9wYWNrYWdlcy9kYi9zcmMvaW5kZXgudHM/NmEwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICdAcHJpc21hL2NsaWVudCc7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/db/src/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.1.0_react-dom@18.3.1_react@18.3.1","vendor-chunks/@supabase+auth-js@2.91.0","vendor-chunks/@supabase+storage-js@2.91.0","vendor-chunks/@supabase+realtime-js@2.91.0","vendor-chunks/@supabase+postgrest-js@2.91.0","vendor-chunks/tslib@2.8.1","vendor-chunks/iceberg-js@0.8.1","vendor-chunks/@supabase+supabase-js@2.91.0","vendor-chunks/@supabase+ssr@0.1.0_@supabase+supabase-js@2.91.0","vendor-chunks/@supabase+functions-js@2.91.0","vendor-chunks/ramda@0.29.1","vendor-chunks/cookie@0.5.0","vendor-chunks/@prisma+client@5.22.0_prisma@5.22.0"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fworkflows%2Froute&page=%2Fapi%2Fworkflows%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fworkflows%2Froute.ts&appDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5CCreatye%20v2%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5CCreatye%20v2%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();